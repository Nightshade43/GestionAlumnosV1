# ==============================================================
# CONFIGURACIÓN DE LA APLICACIÓN
# ==============================================================
spring.application.name=Gestion-Alumnos

# ==============================================================
# BASE DE DATOS H2
# ==============================================================
# OPCIÓN 1: Base de datos en archivo (persiste los datos)
spring.datasource.url=jdbc:h2:file:./data/gestiondb

# OPCIÓN 2: Base de datos en memoria (recomendado para desarrollo)
# Descomenta la siguiente línea y comenta la anterior para usar memoria
# spring.datasource.url=jdbc:h2:mem:testdb

spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# ==============================================================
# JPA/HIBERNATE
# ==============================================================
# Estrategia de generación del esquema:
# - create: Elimina y recrea las tablas cada vez (¡CUIDADO! Pierdes datos)
# - update: Actualiza el esquema sin eliminar datos (recomendado en desarrollo)
# - validate: Solo valida el esquema
# - none: No hace nada
spring.jpa.hibernate.ddl-auto=update

# Mostrar las consultas SQL en la consola (útil para debugging)
spring.jpa.show-sql=true

# Formatear las consultas SQL para que sean más legibles
spring.jpa.properties.hibernate.format_sql=true

# Dialecto de H2 (opcional, Hibernate lo detecta automáticamente)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# ==============================================================
# CONSOLA WEB DE H2
# ==============================================================
# Habilitar la consola web para visualizar y gestionar la base de datos
spring.h2.console.enabled=true

# Ruta de acceso a la consola: http://localhost:8080/h2-console
spring.h2.console.path=/h2-console

# Permitir acceso remoto (¡CUIDADO! Solo en desarrollo)
spring.h2.console.settings.web-allow-others=false

# ==============================================================
# THYMELEAF
# ==============================================================
# Desactivar caché en desarrollo para ver cambios inmediatamente
spring.thymeleaf.cache=false

# Modo de plantillas (HTML5 es el predeterminado)
spring.thymeleaf.mode=HTML

# Encoding de las plantillas
spring.thymeleaf.encoding=UTF-8

# ==============================================================
# LOGGING
# ==============================================================
# Nivel de log general
logging.level.root=INFO

# Log detallado de Spring Web (útil para debugging de controladores)
logging.level.org.springframework.web=DEBUG

# Log de tu aplicación
logging.level.com.docente.gestionnotas=DEBUG

# Log de Hibernate (SQL y parámetros)
# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ==============================================================
# SERVIDOR
# ==============================================================
# Puerto del servidor (8080 por defecto)
server.port=8080

# Context path (por defecto es "/")
# server.servlet.context-path=/gestion-alumnos

# ==============================================================
# VALIDACIÓN
# ==============================================================
# Habilitar validación de Bean Validation
spring.jpa.properties.javax.persistence.validation.mode=auto

# ==============================================================
# OTRAS CONFIGURACIONES
# ==============================================================
# Formato de fecha (si es necesario)
# spring.mvc.format.date=yyyy-MM-dd
# spring.mvc.format.date-time=yyyy-MM-dd HH:mm:ss

# Tamaño máximo de archivos (si implementas uploads)
# spring.servlet.multipart.max-file-size=10MB
# spring.servlet.multipart.max-request-size=10MB